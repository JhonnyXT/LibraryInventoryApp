# LibraryInventoryApp - DocumentaciÃ³n Completa del Proyecto

## ğŸ“‹ INFORMACIÃ“N GENERAL

### DescripciÃ³n
LibraryInventoryApp es una aplicaciÃ³n mÃ³vil Android desarrollada en Kotlin para la gestiÃ³n de inventario de bibliotecas. Permite a los administradores registrar, editar y gestionar libros, mientras que los usuarios pueden explorar el catÃ¡logo y solicitar libros.

### Datos del Proyecto
- **Nombre**: LibraryInventoryApp
- **VersiÃ³n**: 1.0.6 (SISTEMA HÃBRIDO DE NOTIFICACIONES PUSH IMPLEMENTADO)
- **Platform**: Android
- **Lenguaje**: Kotlin
- **SDK MÃ­nimo**: 26 (Android 8.0) - ACTUALIZADO para notificaciones
- **SDK Objetivo**: 34 (Android 14)
- **ID de AplicaciÃ³n**: com.example.libraryinventoryapp
- **Ãšltima ActualizaciÃ³n**: Sistema hÃ­brido de notificaciones push con escalamiento inteligente, permisos automÃ¡ticos, notificaciones clickeables, y compatibilidad completa Android 8.0-14

## ğŸ—ï¸ ARQUITECTURA Y TECNOLOGÃAS

### Arquitectura Principal
- **PatrÃ³n**: Arquitectura basada en Activities y Fragments
- **Backend**: Firebase (Authentication, Firestore, Storage)
- **NavegaciÃ³n**: Bottom Navigation con Fragments
- **UI**: Material Design Components

### Stack TecnolÃ³gico
- **Firebase Auth**: AutenticaciÃ³n de usuarios
- **Cloud Firestore**: Base de datos NoSQL en tiempo real
- **Firebase Storage**: Almacenamiento de imÃ¡genes de libros
- **ZXing**: Escaneo de cÃ³digos de barras/QR
- **CameraX**: Captura de imÃ¡genes y cÃ¡mara
- **ML Kit**: Reconocimiento de cÃ³digos de barras
- **Glide**: Carga y gestiÃ³n de imÃ¡genes
- **SendGrid**: Servicio de correos electrÃ³nicos para notificaciones
- **OkHttp**: Cliente HTTP para comunicaciÃ³n con APIs
- **Material Design**: Componentes UI modernos

### Dependencias Principales
```kotlin
// Firebase
implementation(libs.firebase.auth.ktx)
implementation(libs.firebase.firestore)
implementation(libs.firebase.storage)

// Escaneo de cÃ³digos
implementation(libs.zxing.core)
implementation(libs.zxing.android.embedded)
implementation(libs.play.services.mlkit.barcode.scanning)

// CÃ¡mara
implementation(libs.camerax.core)
implementation(libs.camerax.camera2)
implementation(libs.camerax.lifecycle)
implementation(libs.camerax.view)

// ImÃ¡genes
implementation(libs.glide)
kapt(libs.glide.compiler)

// NUEVAS DEPENDENCIAS v1.0.2+
// HTTP requests para envÃ­o de correos (SendGrid)
implementation("com.squareup.okhttp3:okhttp:4.12.0")

// DEPENDENCIAS v1.0.6 - Sistema de Notificaciones
// Kotlin Coroutines para operaciones asÃ­ncronas
implementation("org.jetbrains.kotlinx:kotlinx-coroutines-android:1.7.3")
implementation("org.jetbrains.kotlinx:kotlinx-coroutines-core:1.7.3")
```

## ğŸ“ ESTRUCTURA DEL PROYECTO

### Estructura de Directorios
```
LibraryInventoryApp/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ build.gradle.kts
â”‚   â”œâ”€â”€ google-services.json
â”‚   â”œâ”€â”€ proguard-rules.pro
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main/
â”‚       â”‚   â”œâ”€â”€ AndroidManifest.xml
â”‚       â”‚   â”œâ”€â”€ java/com/example/libraryinventoryapp/
â”‚       â”‚   â”‚   â”œâ”€â”€ activities/
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ LoginActivity.kt
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ RegisterActivity.kt
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ AdminActivity.kt
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ UserActivity.kt
â”‚       â”‚   â”‚   â”œâ”€â”€ fragments/
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ RegisterBookFragment.kt
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ ViewBooksFragment.kt
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ EditBookFragment.kt  # NUEVO
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ OverdueBooksFragment.kt  # NUEVO v1.0.5
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ BookListFragment.kt
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ AssignedBooksFragment.kt
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ ProfileFragment.kt
â”‚       â”‚   â”‚   â”œâ”€â”€ adapters/
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ BookAdapter.kt
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ BookListAdapter.kt
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ AssignedBooksAdapter.kt
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ OverdueBooksAdapter.kt  # NUEVO v1.0.5
â”‚       â”‚   â”‚   â”œâ”€â”€ models/
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Book.kt
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ User.kt
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ OverdueBookItem.kt  # NUEVO v1.0.5
â”‚       â”‚   â”‚   â””â”€â”€ utils/
â”‚       â”‚   â”‚       â”œâ”€â”€ EmailService.kt  # NUEVO v1.0.2
â”‚       â”‚   â”‚       â”œâ”€â”€ LibraryNotificationManager.kt  # NUEVO v1.0.6
â”‚       â”‚   â”‚       â”œâ”€â”€ NotificationReceiver.kt  # NUEVO v1.0.6
â”‚       â”‚   â”‚       â”œâ”€â”€ BootReceiver.kt  # NUEVO v1.0.6
â”‚       â”‚   â”‚       â””â”€â”€ PermissionHelper.kt  # NUEVO v1.0.6
â”‚       â”‚   â””â”€â”€ res/
â”‚       â”‚       â”œâ”€â”€ layout/ (17 archivos XML)  # +5 fragment_edit_book.xml, dialog_user_search.xml, fragment_overdue_books.xml, item_overdue_book.xml
â”‚       â”‚       â”œâ”€â”€ values/ (strings, colors, themes)
â”‚       â”‚       â”œâ”€â”€ drawable/ (iconos y assets)
â”‚       â”‚       â””â”€â”€ menu/ (navegaciÃ³n inferior)
â”‚       â”œâ”€â”€ androidTest/
â”‚       â””â”€â”€ test/
â”œâ”€â”€ gradle/
â”‚   â”œâ”€â”€ libs.versions.toml
â”‚   â””â”€â”€ wrapper/
â”œâ”€â”€ build.gradle.kts
â”œâ”€â”€ settings.gradle.kts
â””â”€â”€ gradle.properties
```

### OrganizaciÃ³n del CÃ³digo
- **activities/**: Actividades principales (Login, Register, Admin, User)
- **fragments/**: Fragmentos para diferentes funcionalidades
- **adapters/**: Adaptadores para RecyclerViews
- **models/**: Data classes (Book, User)

## ğŸ¯ FUNCIONALIDADES PRINCIPALES

### ğŸ” Sistema de AutenticaciÃ³n
- **Registro de usuarios** con validaciÃ³n de campos
- **Login** con Firebase Authentication
- **GestiÃ³n de sesiones** persistentes
- **Roles de usuario**: Admin y Usuario regular
- **Logout** con redirecciÃ³n a login

### ğŸ‘¥ GestiÃ³n de Usuarios
#### Administrador
- Registrar nuevos libros con imagen
- Escanear cÃ³digos de barras/ISBN
- Asignar libros a usuarios especÃ­ficos
- **NUEVO**: Desasignar libros de usuarios especÃ­ficos
- **NUEVO**: Editar informaciÃ³n completa de libros existentes
- Ver todos los libros del inventario
- Eliminar libros del sistema
- Gestionar cantidad de ejemplares
- **NUEVO**: Filtros avanzados (por usuario, fecha, categorÃ­a)
- **NUEVO**: Notificaciones automÃ¡ticas por correo electrÃ³nico

#### Usuario Regular
- Explorar catÃ¡logo de libros disponibles
- Buscar libros por tÃ­tulo o ISBN
- Filtrar por categorÃ­as
- Solicitar asignaciÃ³n de libros
- Ver libros asignados personalmente
- Gestionar perfil personal
- **NUEVO**: Recibir notificaciones por correo al ser asignado un libro

### ğŸ“š GestiÃ³n de Libros
#### Campos del Libro
```kotlin
data class Book(
    var id: String = "",
    val title: String = "",
    val description: String = "",
    val author: String = "",
    val isbn: String = "",
    val categories: List<String> = emptyList(),
    val imageUrl: String? = null,
    val quantity: Int = 0,
    val status: String = "Disponible",
    val assignedTo: List<String>? = null,
    val assignedWithNames: List<String>? = null,
    val assignedToEmails: List<String>? = null,
    val assignedDates: List<Timestamp>? = null,  // Fechas de asignaciÃ³n
    val createdDate: Timestamp? = null,  // NUEVO: Fecha de creaciÃ³n del libro
    val lastEditedDate: Timestamp? = null  // NUEVO: Fecha de Ãºltima ediciÃ³n
)
```

#### CategorÃ­as Disponibles
- Biblia, Liderazgo, JÃ³venes, Mujeres
- ProfecÃ­a bÃ­blica, Familia, Matrimonio
- Finanzas, Estudio bÃ­blico, Evangelismo
- Navidad, Emaus, Misiones, Devocionales
- Curso vida, Iglesia, Vida cristiana
- Libros de la Biblia, Enciclopedia
- Religiones, InglÃ©s, Infantil

### ğŸ” Funcionalidades de BÃºsqueda y Filtrado
- **BÃºsqueda por texto**: TÃ­tulo e ISBN con normalizaciÃ³n de acentos
- **Filtro por categorÃ­as**: SelecciÃ³n mÃºltiple
- **Ordenamiento alfabÃ©tico**: Sin considerar acentos
- **BÃºsqueda en tiempo real**: ActualizaciÃ³n inmediata

### ğŸ“± Funcionalidades de CÃ¡mara
- **Captura de imÃ¡genes** para libros
- **Escaneo de cÃ³digos de barras** para ISBN
- **Procesamiento con ML Kit** para reconocimiento automÃ¡tico
- **Almacenamiento en Firebase Storage**

### ğŸ”” SISTEMA HÃBRIDO DE NOTIFICACIONES PUSH (v1.0.6)

#### **ğŸ“‹ Arquitectura del Sistema:**
- **LibraryNotificationManager**: Gestor principal de notificaciones
- **NotificationReceiver**: BroadcastReceiver para mostrar notificaciones
- **BootReceiver**: ReprogramaciÃ³n automÃ¡tica despuÃ©s de reinicio
- **PermissionHelper**: Solicitud automÃ¡tica de permisos

#### **âš¡ Tipos de Notificaciones:**
1. **ğŸ“… PrÃ³ximos (3-5 dÃ­as)**: 1 vez al dÃ­a a las 10:00 AM
2. **âš ï¸ Muy prÃ³ximos (1-2 dÃ­as)**: 1 vez al dÃ­a a las 6:00 PM
3. **ğŸš¨ Vence HOY**: 2 veces al dÃ­a (9:00 AM + 6:00 PM)
4. **ğŸ”´ Vencido reciente (1-3 dÃ­as)**: 2 veces al dÃ­a (10:00 AM + 4:00 PM)
5. **ğŸ”¥ Vencido medio (4-7 dÃ­as)**: Cada 8 horas (3 veces al dÃ­a)
6. **ğŸš¨ CRÃTICO (+7 dÃ­as)**: Cada 4 horas (6 veces al dÃ­a)
7. **âš¡ INMEDIATAS**: Al cambiar fechas prÃ³ximas a vencer

#### **ğŸ¯ Escalamiento Inteligente:**
- **Horarios optimizados**: MaÃ±ana (9-10 AM) y tarde (4-6 PM)
- **Escalamiento por urgencia**: MÃ¡s frecuente = mÃ¡s crÃ­tico
- **Canales diferenciados**: PrÃ³ximos, Vencidos, CrÃ­ticos
- **Fallback robusto**: Alarmas exactas â†’ aproximadas â†’ bÃ¡sicas

#### **ğŸ“± Compatibilidad Universal:**
- **Android 8.0-11**: Funciona perfecto sin permisos especiales
- **Android 12+**: Manejo automÃ¡tico de permisos SCHEDULE_EXACT_ALARM
- **Samsung Galaxy**: Soporte especÃ­fico para dispositivos Samsung
- **Fabricantes diversos**: Compatible con todas las marcas

#### **ğŸ”’ Sistema de Permisos AutomÃ¡tico:**
- **Solicitud directa**: Solo diÃ¡logo nativo del sistema
- **Sin popups innecesarios**: Flujo simplificado
- **NavegaciÃ³n inteligente**: A la app apropiada segÃºn rol
- **Manejo de configuraciÃ³n**: GuÃ­a automÃ¡tica a configuraciÃ³n si es necesario

#### **ğŸ¯ Notificaciones Clickeables:**
- **PendingIntent inteligente**: Navega segÃºn rol del usuario
- **Admin**: Abre AdminActivity directamente
- **Usuario**: Abre UserActivity directamente
- **Sin autenticaciÃ³n**: Redirige a LoginActivity
- **Flags optimizados**: NEW_TASK, CLEAR_TOP para navegaciÃ³n limpia

## ğŸ†• NUEVAS FUNCIONALIDADES (v1.0.2)

### ğŸ“‹ GestiÃ³n Avanzada de Asignaciones (Admin)
- **Desasignar libros**: Los admins pueden quitar libros asignados a usuarios especÃ­ficos
  - Interfaz clickeable en la vista de libros asignados
  - DiÃ¡logo de selecciÃ³n de usuario para desasignar
  - ActualizaciÃ³n automÃ¡tica de cantidad disponible
  - ConfirmaciÃ³n visual del proceso

### âœï¸ EdiciÃ³n de Libros (Admin)
- **EditBookFragment**: Nuevo fragmento para editar libros existentes
- **Campos editables**: TÃ­tulo, autor, ISBN, descripciÃ³n, categorÃ­as, cantidad, cÃ³digo e imagen
- **Pre-carga de datos**: Los campos se llenan automÃ¡ticamente con la informaciÃ³n actual
- **NavegaciÃ³n**: Acceso desde botÃ³n "Editar" en cada libro
- **Validaciones**: Mismas validaciones que el registro de libros

### ğŸ“§ Sistema de Notificaciones por Correo
- **Servicio EmailService**: Clase utility para gestiÃ³n de correos electrÃ³nicos
- **Doble notificaciÃ³n**: Correos tanto al usuario asignado como al administrador
- **Modo demo**: ImplementaciÃ³n de logs detallados para pruebas
- **IntegraciÃ³n SendGrid**: API nativa para apps mÃ³viles (reemplaza EmailJS)
- **Templates HTML**: DiseÃ±os de email profesionales integrados en cÃ³digo
- **Sin restricciones de navegador**: Funciona perfectamente desde apps Android

### ğŸ” Filtros Avanzados (Admin)
- **Filtro por usuario**: Ver libros asignados a un usuario especÃ­fico
- **Filtro por fecha**: Libros asignados en perÃ­odos especÃ­ficos (24h, semana, mes, 3 meses)
- **Filtro por categorÃ­as**: Funcionalidad existente mejorada
- **Interfaz unificada**: MenÃº de opciones de filtrado centralizado
- **Limpieza de filtros**: OpciÃ³n para resetear todos los filtros aplicados

### ğŸ“Š Mejoras en Seguimiento de Datos
- **Timestamps de asignaciÃ³n**: Registro automÃ¡tico de fechas de asignaciÃ³n
- **Historial detallado**: Seguimiento de cuÃ¡ndo se asignÃ³ cada libro
- **Consistencia de datos**: Mantenimiento de sincronizaciÃ³n entre listas de usuarios y fechas

## ğŸ†• FUNCIONALIDADES ADICIONALES (v1.0.3)

### ğŸ“… Sistema de Fechas de AuditorÃ­a
- **Fecha de creaciÃ³n**: Se registra automÃ¡ticamente al crear un libro nuevo
- **Fecha de ediciÃ³n**: Se actualiza automÃ¡ticamente cada vez que se edita un libro
- **Trazabilidad completa**: Seguimiento temporal de todas las modificaciones
- **Campos en Firestore**: `createdDate` y `lastEditedDate` con timestamps

### âš ï¸ DiÃ¡logos de ConfirmaciÃ³n
- **ConfirmaciÃ³n de asignaciÃ³n**: Dialog antes de asignar libro (admin y usuario)
  - TÃ­tulo: "Confirmar AsignaciÃ³n"
  - Mensaje personalizado con nombre del libro y usuario
  - Botones: "ACEPTAR" / "CANCELAR"
- **ConfirmaciÃ³n de ediciÃ³n**: Dialog antes de editar libro
  - TÃ­tulo: "Confirmar EdiciÃ³n"
  - Previene ediciones accidentales
- **ConfirmaciÃ³n de eliminaciÃ³n**: Dialog antes de eliminar libro
  - TÃ­tulo: "Confirmar EliminaciÃ³n"
  - Mensaje de advertencia sobre acciÃ³n irreversible
  - Implementado en todos los puntos de asignaciÃ³n/ediciÃ³n/eliminaciÃ³n

## ğŸ†• NUEVAS MEJORAS UX/UI (v1.0.4)

### ğŸ” Filtro Avanzado por Usuario con BÃºsqueda
- **Interface mejorada**: Dialog dedicado con SearchView + RecyclerView
- **BÃºsqueda en tiempo real**: Filtro de usuarios por nombre con normalizaciÃ³n
- **Lista interactiva**: Click en usuario para aplicar filtro inmediatamente
- **BÃºsqueda sin acentos**: NormalizaciÃ³n de texto para mejor experiencia
- **Layout personalizado**: `dialog_user_search.xml` para mejor UX

### ğŸš« RestricciÃ³n de Auto-AsignaciÃ³n (Usuarios)
- **BotÃ³n oculto**: Los usuarios ya no pueden auto-asignarse libros
- **PolÃ­tica de seguridad**: Solo administradores pueden asignar libros
- **UI limpia**: Interfaz simplificada sin opciones no disponibles
- **Callback deshabilitado**: Funcionalidad completamente removida

### ğŸ”„ Pull-to-Refresh en todas las listas
- **SwipeRefreshLayout**: Implementado en BookListFragment, ViewBooksFragment y AssignedBooksFragment
- **Recarga completa**: Actualiza datos desde Firebase con gesto de deslizar hacia abajo
- **Feedback visual**: Indicador de carga durante la actualizaciÃ³n
- **UX mejorada**: PatrÃ³n estÃ¡ndar de Android para actualizar contenido

### ğŸ“… DatePicker para Filtro de Fechas (Admin)
- **DatePicker nativo**: Reemplaza opciones predefinidas (24h, semana, mes)
- **SelecciÃ³n especÃ­fica**: El admin puede elegir cualquier fecha como punto de inicio
- **Filtro "desde fecha"**: Muestra libros asignados desde la fecha seleccionada (inclusive)
- **Formato localizado**: Fechas mostradas en formato dd/MM/yyyy
- **Toast informativo**: RetroalimentaciÃ³n clara sobre el filtro aplicado

## ğŸ†• SISTEMA DE PRÃ‰STAMOS PROFESIONAL (v1.0.5)

### ğŸ“š Sistema de PrÃ©stamos con Fechas de Vencimiento
- **DatePicker de devoluciÃ³n**: Al asignar un libro, el admin selecciona fecha lÃ­mite de devoluciÃ³n
- **Campo `loanExpirationDates`**: Array de fechas de vencimiento por cada usuario asignado
- **Fecha sugerida**: 15 dÃ­as por defecto (personalizable en DatePicker)
- **ValidaciÃ³n de fechas**: No se permite seleccionar fechas del pasado
- **Toast informativo**: ConfirmaciÃ³n con fecha de devoluciÃ³n seleccionada

### ğŸ¯ OptimizaciÃ³n de UI: Puntos Suspensivos + Contador
- **"Asignado a" mejorado**: Sistema inteligente de visualizaciÃ³n
  - 1 usuario: "Asignado a: Juan PÃ©rez"
  - 2 usuarios: "Asignado a: Juan P., MarÃ­a G."
  - 3+ usuarios: "Asignado a: Juan P., MarÃ­a G... (+3 mÃ¡s)"
- **Espacio eficiente**: No satura la UI con listas largas
- **Click para detalles**: Al hacer click se despliegan opciones de desasignaciÃ³n

### ğŸ“‹ Pantalla Dedicada: "Libros Vencidos"
- **Nueva pestaÃ±a en Admin**: "Libros Vencidos" en bottom navigation
- **Dashboard especializado**: Lista exclusiva de prÃ©stamos vencidos
- **InformaciÃ³n detallada por prÃ©stamo**:
  - Usuario que debe devolver
  - Fecha de vencimiento
  - DÃ­as de retraso (con cÃ³digos de color por gravedad)
  - Imagen y detalles del libro
- **ClasificaciÃ³n por urgencia**:
  - ğŸš¨ CRÃTICO: +30 dÃ­as (rojo oscuro)
  - âš ï¸ URGENTE: 14-29 dÃ­as (naranja oscuro) 
  - â° TARDE: 7-13 dÃ­as (naranja claro)
  - ğŸ“‹ VENCIDO: 1-6 dÃ­as (rojo claro)
- **Acciones directas**:
  - ğŸ“§ **Enviar recordatorio**: Email automÃ¡tico al usuario y admin
  - âœ… **Marcar como devuelto**: Remueve asignaciÃ³n y restaura disponibilidad
- **Estado vacÃ­o elegante**: Mensaje motivacional cuando no hay vencidos
- **Pull-to-refresh**: ActualizaciÃ³n manual de la lista

### ğŸ“§ Sistema de Correos de Recordatorio
- **Correos duales**: Usuario + Admin reciben notificaciones
- **Templates especializados**: 
  - Usuario: Recordatorio amigable con fecha de vencimiento y dÃ­as de retraso
  - Admin: ConfirmaciÃ³n de recordatorio enviado con datos del prÃ©stamo
- **IntegraciÃ³n SendGrid**: Sistema profesional de correos (modo demo incluido)
- **InformaciÃ³n completa**: TÃ­tulo, autor, fecha de vencimiento, dÃ­as de retraso

### âš ï¸ Alertas Visuales Mejoradas
- **Indicador en lista principal**: Alerta roja cuando hay prÃ©stamos vencidos
- **Fondo destacado**: Items con vencimientos tienen fondo rojo claro
- **Mensaje especÃ­fico**: "âš ï¸ VENCIDO: Usuario debe devolver"
- **IntegraciÃ³n completa**: Alertas conectadas con pantalla dedicada

## ğŸ—„ï¸ MODELOS DE DATOS

### Modelo User
```kotlin
data class User(
    val name: String = "",
    val email: String = "",
    val role: String = "",
    val uid: String = ""
)
```

### Estructura en Firestore
#### ColecciÃ³n "users"
```json
{
  "uid": "user_id",
  "name": "Nombre Usuario",
  "email": "usuario@email.com",
  "role": "admin|usuario"
}
```

#### ColecciÃ³n "books"
```json
{
  "id": "book_id",
  "title": "TÃ­tulo del Libro",
  "description": "DescripciÃ³n detallada",
  "author": "Nombre del Autor",
  "isbn": "1234567890",
  "categories": ["CategorÃ­a1", "CategorÃ­a2"],
  "imageUrl": "https://firebase-storage-url",
  "quantity": 5,
  "status": "Disponible|No disponible",
  "assignedTo": ["user_id1", "user_id2"],
  "assignedWithNames": ["Usuario1", "Usuario2"],
  "assignedToEmails": ["email1@test.com", "email2@test.com"],
  "assignedDates": ["2024-01-15T10:30:00Z", "2024-01-20T14:45:00Z"],
  "createdDate": "2024-01-10T08:00:00Z",
  "lastEditedDate": "2024-01-16T15:22:00Z"
}
```

## ğŸ¨ INTERFAZ DE USUARIO

### Actividades Principales
1. **LoginActivity**: Pantalla de inicio de sesiÃ³n
2. **RegisterActivity**: Registro de nuevos usuarios
3. **AdminActivity**: Panel de administrador
4. **UserActivity**: Panel de usuario regular

### Fragmentos por Rol
#### Admin
- **RegisterBookFragment**: Registro de libros con cÃ¡mara
- **ViewBooksFragment**: Vista completa del inventario con filtros avanzados
- **EditBookFragment**: **NUEVO** - EdiciÃ³n de libros existentes
- **OverdueBooksFragment**: **NUEVO v1.0.5** - Dashboard de libros vencidos

#### Usuario
- **BookListFragment**: CatÃ¡logo de libros disponibles
- **AssignedBooksFragment**: Libros asignados al usuario
- **ProfileFragment**: GestiÃ³n del perfil personal

### NavegaciÃ³n
- **Bottom Navigation**: NavegaciÃ³n principal por tabs
- **Fragment Navigation**: GestiÃ³n de fragmentos
- **Intent Navigation**: Entre actividades

## âš™ï¸ CONFIGURACIÃ“N Y PERMISOS

### Permisos Requeridos
```xml
<!-- Permisos bÃ¡sicos -->
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.CAMERA" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.MANAGE_EXTERNAL_STORAGE" />

<!-- PERMISOS PARA NOTIFICACIONES v1.0.6 -->
<uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
<uses-permission android:name="android.permission.SCHEDULE_EXACT_ALARM" />
<uses-permission android:name="android.permission.USE_EXACT_ALARM" />
<uses-permission android:name="android.permission.WAKE_LOCK" />
<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
<uses-permission android:name="android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS" />

<uses-feature android:name="android.hardware.camera" android:required="true" />
```

### ConfiguraciÃ³n Firebase
- **google-services.json**: ConfiguraciÃ³n de Firebase
- **FileProvider**: Para compartir archivos de imagen
- **Proguard**: ConfiguraciÃ³n para release builds

## ğŸ”’ SEGURIDAD Y VALIDACIONES

### Validaciones de Input
- **Email**: Formato vÃ¡lido y no vacÃ­o
- **ContraseÃ±a**: MÃ­nimo 6 caracteres
- **Campos obligatorios**: ValidaciÃ³n en todos los formularios
- **Duplicados**: VerificaciÃ³n de libros ya asignados

### Seguridad Firebase
- **Reglas Firestore**: Control de acceso por roles
- **Storage Rules**: Restricciones de subida de imÃ¡genes
- **Authentication**: GestiÃ³n segura de sesiones

## ğŸš€ DESPLIEGUE Y CONFIGURACIÃ“N

### ConfiguraciÃ³n de Desarrollo
1. **Firebase Project**: Crear proyecto en Firebase Console
2. **google-services.json**: Descargar y colocar en app/
3. **Dependencias**: Sincronizar con Gradle
4. **Permisos**: Configurar en AndroidManifest.xml

### Build Configuration
- **Debug**: ConfiguraciÃ³n para desarrollo
- **Release**: ConfiguraciÃ³n optimizada con Proguard
- **Keystore**: libraryinventorykeystore.jks para signing

### Versioning
- **Version Code**: 1
- **Version Name**: 1.0.1
- **Gradle Version**: 8.6.0
- **Kotlin Version**: 1.9.0

## ğŸ“Š MÃ‰TRICAS Y RENDIMIENTO

### Optimizaciones Implementadas
- **Glide**: Cache de imÃ¡genes eficiente
- **RecyclerView**: Listas optimizadas para rendimiento
- **Firebase Offline**: Soporte para modo offline
- **Proguard**: MinificaciÃ³n de cÃ³digo en release

### Consideraciones de UX
- **Progress Bars**: Feedback visual durante operaciones
- **Toast Messages**: Notificaciones de estado
- **Search in Real-time**: BÃºsqueda instantÃ¡nea
- **Material Design**: Interface moderna y consistente

## ğŸ› DEBUGGING Y TESTING

### Testing Setup
- **Unit Tests**: JUnit configuration
- **Instrumented Tests**: Android Test framework
- **Firebase Test Lab**: Cloud testing capabilities

### Logging y Debugging
- **Firebase Crashlytics**: (Preparado para implementar)
- **Log.e**: Logging de errores
- **Toast Messages**: User feedback

## ğŸ“ NOTAS DE DESARROLLO

### Patrones Utilizados
- **MVP Pattern**: SeparaciÃ³n de responsabilidades
- **Observer Pattern**: LiveData y listeners
- **Adapter Pattern**: RecyclerView adapters
- **Singleton Pattern**: Firebase instances

### Mejores PrÃ¡cticas Implementadas
- **Kotlin null safety**: PrevenciÃ³n de NullPointerException
- **Resource management**: Proper cleanup de resources
- **Error handling**: Manejo comprehensivo de errores
- **User feedback**: Mensajes claros y Ãºtiles

### Areas de Mejora Futura
- [ ] Implementar offline sync completo
- [ ] AÃ±adir push notifications
- [ ] Sistema de reportes y analytics
- [ ] Dark mode support
- [ ] Mejores animaciones y transiciones
- [ ] Sistema de backup automÃ¡tico

## ğŸ’¡ CONCLUSIÃ“N

LibraryInventoryApp es una aplicaciÃ³n robusta para gestiÃ³n de bibliotecas que combina tecnologÃ­as modernas de Android con Firebase como backend. Su arquitectura modular permite escalabilidad y mantenimiento eficiente, mientras que su interfaz intuitiva garantiza una excelente experiencia de usuario tanto para administradores como para usuarios finales.

La aplicaciÃ³n estÃ¡ lista para producciÃ³n con todas las funcionalidades core implementadas y un sistema de seguridad apropiado. El cÃ³digo estÃ¡ bien organizado y documentado, facilitando futuras mejoras y mantenimiento.
